title: demo test
vars:
  name: hhhhhh
steps:
  - title: create
    protocol: http
    request:
      method: POST
      url: 'http://127.0.0.1:8080/api/create'
      header:
        Content-Type: application/json
      # TODO 支持嵌套对象发送请求
      body:
        id: 1
        name: xiaotiantian
        guoxian:
          name: '{{vars.name}}'
          age: 18
    bind:
      vars:
        id: '{{response.data.id}}'
        size: 1
        age: '{{response.data.guoxian.age}}'
    expect:
      code: 200
      message: success
      data:
        id: 1
        guoxian:
          age: '{{ response.data.guoxian.age > 15 && response.data.guoxian.age <= 18 }}'
  - title: create3
    protocol: http
    request:
      method: POST
      url: 'http://127.0.0.1:8080/api/create3'
      header:
        Content-Type: application/x-www-form-urlencoded
      body:
        id: 1
        name: xiaotiantian
    bind:
      vars:
        id: '{{response.data.id}}'
    expect:
      code: 200

